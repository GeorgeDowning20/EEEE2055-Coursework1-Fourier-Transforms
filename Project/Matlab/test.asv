% syms t
% f = triangularPulse(-0.002,-0.001,-0.001,t)+rectangularPulse(-0.001,0.001,t)+triangularPulse(0.001,0.001,0.002,t);
% F = fourier(f,t)

% Hz = linspace(-10000,10000,10000);
% x = double(subs(F, t, Hz));

% ift = ifft(x)

% plot(1:length(ift), ift);

% % plot(Hz,abs(test));

clear all;

syms t
f = triangularPulse(0.001,0.002,0.002,t);
F = fourier(f,t)*471;

%t1 = linspace(0,0.003,10000)
%f1 = double(subs(f,t,t1))
%Y = fft(f1);


%figure;
%plot(t1,mag2db(abs(Y)))

%figure
%fplot(f, [0 0.003]);

figure;

rad = logspace(3,6.3,1000);
x = subs(F, t, rad);
%X = double(sqrt(x.^2));
hold on;


semilogx(rad*0.1592,mag2db(abs(x)));

a = [0.00000000000000e+000	1.66666656637522e-001+0.00000000000000e+000i;
3.33333333333333e+002	-1.94924191158709e-001+7.35993513936314e-002i;
6.66666666666667e+002	9.74621013575419e-002+-1.02804484816527e-001i;
1.00000000000000e+003	-7.27855791152334e-009+7.50263574397806e-002i;
1.33333333333333e+003	-4.87310461049461e-002+-1.65012096939599e-002i;
1.66666666666667e+003	3.89848445708343e-002+-2.99534571321310e-002i;
2.00000000000000e+003	-9.05005616441727e-009+3.75131803418449e-002i;
2.33333333333333e+003	-2.78463095456556e-002+-1.22783321360231e-002i;
2.66666666666667e+003	2.43655291650721e-002+-1.69758545482992e-002i;
3.00000000000000e+003	-8.78677893366760e-009+2.50087860222918e-002i;
3.33333333333333e+003	-1.94924154705289e-002+-9.39257217996906e-003i;
3.66666666666667e+003	1.77203861188170e-002+-1.17691979465213e-002i;
4.00000000000000e+003	-8.83061293450191e-009+1.87565903384810e-002i;
4.33333333333333e+003	-1.49941646985683e-002+-7.55548225022908e-003i;
4.66666666666667e+003	1.39231613821157e-002+-8.98821855703458e-003i;
5.00000000000000e+003	-8.62599586799665e-009+1.50052714800359e-002i;
5.33333333333333e+003	-1.21827583315192e-002+-6.30662357691726e-003i;
5.66666666666667e+003	1.14661341153825e-002+-7.26404453891343e-003i;
6.00000000000000e+003	-9.09755751803348e-009+1.25043932950725e-002i;
6.33333333333333e+003	-1.02591638506676e-002+-5.40752117895667e-003i;
6.66666666666667e+003	9.74621440190666e-003+-6.09231644091377e-003i;
7.00000000000000e+003	-8.88434907385693e-009+1.07180513040587e-002i;
7.33333333333333e+003	-8.86018649223229e-003+-4.73085677926462e-003i;
7.66666666666667e+003	8.47496973572297e-003+-5.24488513406602e-003i;
8.00000000000000e+003	-8.97264564153426e-009+9.37829498130519e-003i;
8.33333333333333e+003	-7.79696352080240e-003+-4.20376710526204e-003i;
8.66666666666667e+003	7.49708909276341e-003+-4.60378945814079e-003i;
9.00000000000000e+003	-8.94413939940315e-009+8.33626216258488e-003i;
9.33333333333333e+003	-6.96157411613983e-003+-3.78185493782106e-003i;
9.66666666666667e+003	6.72152863553377e-003+-4.10199647028123e-003i;
1.00000000000000e+004	-8.95480562458634e-009+7.50263597145071e-003i;
1.03333333333333e+004	-6.28787296953843e-003+-3.43662256230498e-003i;
1.06666666666667e+004	6.09138577015754e-003+-3.69862912021367e-003i;
1.10000000000000e+004	-8.98863846364212e-009+6.82057815673657e-003i;
1.13333333333333e+004	-5.73306021894606e-003+-3.14897441527740e-003i;
1.16666666666667e+004	5.56926734133077e-003+-3.36735777013665e-003i;
1.20000000000000e+004	-8.95275728687201e-009+6.25219664167065e-003i;
1.23333333333333e+004	-5.26821717413824e-003+-2.90564988893400e-003i;
1.26666666666667e+004	5.12958873961220e-003+-3.09046412197386e-003i;
1.30000000000000e+004	-9.00162771959474e-009+5.77125845408487e-003i;
1.33333333333333e+004	-4.87310050197002e-003+-2.69715947223203e-003i;
1.36666666666667e+004	4.75425325662774e-003+-2.85559007212358e-003i;
1.40000000000000e+004	-8.94143467776828e-009+5.35902567256252e-003i;
1.43333333333333e+004	-4.53311650539232e-003+-2.51653632227223e-003i;
1.46666666666667e+004	4.43010001831136e-003+-2.65385515472833e-003i;
1.50000000000000e+004	-9.03768418799625e-009+5.00175730025946e-003i;
1.53333333333333e+004	-4.23747809013984e-003+-2.35855214495925e-003i;
1.56666666666667e+004	4.14732788777656e-003+-2.47871440268349e-003i;
1.60000000000000e+004	-8.97631345650581e-009+4.68914749514649e-003i;
1.63333333333333e+004	-3.97804042359925e-003+-2.21920751316232e-003i;
1.66666666666667e+004	3.89848851664363e-003+-2.32523856505435e-003i;
1.70000000000000e+004	-9.00437736390825e-009+4.41331527294177e-003i;
1.73333333333333e+004	-3.74853780742194e-003+-2.09539134338716e-003i;
1.76666666666667e+004	3.67781958743651e-003+-2.18964493999270e-003i;
1.80000000000000e+004	-8.98444185649662e-009+4.16813109279952e-003i;
1.83333333333333e+004	-3.54407187937252e-003+-1.98464770724689e-003i;
1.86666666666667e+004	3.48079379184959e-003+-2.06898236704941e-003i;
1.90000000000000e+004	-8.99567005935139e-009+3.94875577035197e-003i;
1.93333333333333e+004	-3.36075757510135e-003+-1.88501206033880e-003i;
1.96666666666667e+004	3.30380449908875e-003+-1.96091486037763e-003i;
2.00000000000000e+004	-8.99229430667499e-009+3.75131797779305e-003i;
2.03333333333333e+004	-3.19547419411187e-003+-1.79489436926946e-003i;
2.06666666666667e+004	3.14394320519461e-003+-1.86356931468762e-003i;
2.10000000000000e+004	-8.98714585204947e-009+3.57268379546017e-003i;
2.13333333333333e+004	-3.04568613623352e-003+-1.71299402288026e-003i;
2.16666666666667e+004	2.99883834760960e-003+-1.77542628630824e-003i;
2.20000000000000e+004	-8.99391693778164e-009+3.41028906712383e-003i;
2.23333333333333e+004	-2.90931192071373e-003+-1.63823683403893e-003i;
2.26666666666667e+004	2.86653684355707e-003+-1.69524040180233e-003i;
2.30000000000000e+004	-8.98011636654794e-009+3.26201563870242e-003i;
2.33333333333333e+004	-2.78462694842161e-003+-1.56972796115756e-003i;
2.36666666666667e+004	2.74541577831547e-003+-1.62198114152332e-003i;
2.40000000000000e+004	-9.00225162356247e-009+3.12609830476753e-003i;
2.43333333333333e+004	-2.67019001815322e-003+-1.50671586666213e-003i;
2.46666666666667e+004	2.63411530166778e-003+-1.55478858882301e-003i;
2.50000000000000e+004	-8.98706973315655e-009+3.00105440238459e-003i;
2.53333333333333e+004	-2.56478761217981e-003+-1.44856494396657e-003i;
2.56666666666667e+004	2.53148761151997e-003+-1.49293932468018e-003i;
2.60000000000000e+004	-8.98701188924491e-009+2.88562921210898e-003i;
2.63333333333333e+004	-2.46739044519289e-003+-1.39473373727497e-003i;
2.66666666666667e+004	2.43655699564502e-003+-1.43582067044747e-003i;
2.70000000000000e+004	-8.98631842194992e-009+2.77875406717168e-003i;
2.73333333333333e+004	-2.37711990114761e-003+-1.34475843172435e-003i;
2.76666666666667e+004	2.34848883634641e-003+-1.38291000866523e-003i;
2.80000000000000e+004	-8.98958657371637e-009+2.67951284404452e-003i;
2.83333333333333e+004	-2.29322139072824e-003+-1.29823919394084e-003i;
2.86666666666667e+004	2.26656496234046e-003+-1.33375902571989e-003i;
2.90000000000000e+004	-8.98808793638538e-009+2.58711585321500e-003i;
2.93333333333333e+004	-2.21504323741517e-003+-1.25482965591627e-003i;
2.96666666666667e+004	2.19016405001191e-003+-1.28798084563393e-003i;
3.00000000000000e+004	-8.99051503809179e-009+2.50087865902513e-003i;
3.03333333333333e+004	-2.14201968376327e-003+-1.21422819419259e-003i;
3.06666666666667e+004	2.11874580199293e-003+-1.24523991486068e-003i;
3.10000000000000e+004	-8.98883833582134e-009+2.42020514983895e-003i;
3.13333333333333e+004	-2.07365721211079e-003+-1.17617095722262e-003i;
3.16666666666667e+004	2.05183818451107e-003+-1.20524375993953e-003i];

semilogx(real(a(:,1)),mag2db(abs(a(:,2))),'o');
%axis([300 43000000]);

cleanfigure;
matlab2tikz('Figures/Q1_1_3.tex');

